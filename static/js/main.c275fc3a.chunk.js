(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{106:function(e,t){},116:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(8),c=n.n(r),i=(n(79),n(29)),l=(n(80),n(147)),u=n(148),m=n(150),s=n(146),f=n(61),d=n.n(f),h=n(149),E=n(151),p=n(143),g=Object(p.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1)}}}}));function v(e){var t=e.update,n=e.cb,a=e.status,r=e.nameError,c=e.placeholderName,i=g();return o.a.createElement(o.a.Fragment,null,a?o.a.createElement("form",{className:i.root,noValidate:!0,autoComplete:"off"},o.a.createElement(m.a,null,o.a.createElement(h.a,{error:r,helperText:r?"Try a different name":null,placeholder:c,required:!0,id:"outlined-required",label:"Name",variant:"outlined",onChange:function(e){return t(e.target.value)}})),o.a.createElement(m.a,null,o.a.createElement(E.a,{onClick:n,variant:"contained",color:"primary"},"Play"))):o.a.createElement(s.a,null,"Server is ",a?null:"not ","running"))}var w=n(65),x=n.n(w);function b(e){var t=e.socket,n=function(e){t.on("mouse",(function(t){!function(t){e.fill(t.color),e.ellipse(t.x,t.y,50,50);var n=e.textWidth(t.name);e.fill(0),e.text(t.name,t.x-n/2,t.y)}(t)})),e.setup=function(){document.getElementById("gameContainer");e.createCanvas(e.windowWidth,e.windowHeight),e.background(0),e.noStroke()},e.mouseDragged=function(){!function(e,n,a,o){var r={x:e,y:n,px:a,py:o};t.emit("mouse",r)}(e.mouseX,e.mouseY,e.pmouseX,e.pmouseY)}},r=o.a.createRef();return Object(a.useEffect)((function(){new x.a(n,r.current)}),[]),o.a.createElement(m.a,{maxHeight:"800px",height:"100%",width:"100%",id:"gameContainer",ref:r})}n(112).config();var y,O=n(115),S=Object({NODE_ENV:"production",PUBLIC_URL:"/gam",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).DEV?"http://localhost:8080":"http://82.45.108.39:3001";var k=function(){var e=o.a.useState(!1),t=Object(i.a)(e,2),n=t[0],r=t[1],c=o.a.useState("Barry"),f=Object(i.a)(c,2),h=f[0],E=f[1],p=o.a.useState(!1),g=Object(i.a)(p,2),w=g[0],x=g[1],k=o.a.useState(!1),j=Object(i.a)(k,2),C=j[0],T=j[1];function _(e){if(e.ok)return r(!0),e;throw e.statusText}return Object(a.useEffect)((function(){O(S).then(_).then((function(){return(y=d()(S)).on("nameTaken",(function(e){x(!0),console.log("".concat(e," is already taken"))})),y.on("joined",(function(e){console.log("".concat(e," joined")),T(!0)})),function(){return y.disconnect()}}))}),[]),o.a.createElement("div",{className:"App"},o.a.createElement(o.a.Fragment,null,o.a.createElement(l.a,null),C?o.a.createElement(b,{socket:y}):o.a.createElement(u.a,null,o.a.createElement(m.a,{display:"flex",flexDirection:"column",height:"100vh"},o.a.createElement(m.a,{borderBottom:1},o.a.createElement(s.a,{variant:"h2",component:"h1"},"Gam")),o.a.createElement(m.a,{display:"flex",justifyContent:"center",alignItems:"center",flexGrow:1},o.a.createElement(v,{status:n,update:function(e){E(e),x(!1)},nameError:w,placeholderName:h,cb:function(){y.emit("name",h)}}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},74:function(e,t,n){e.exports=n(116)},79:function(e,t,n){},80:function(e,t,n){}},[[74,1,2]]]);
//# sourceMappingURL=main.c275fc3a.chunk.js.map