(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{112:function(e,t){},119:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(8),c=n.n(o),i=(n(85),n(28)),s=(n(86),n(150)),l=n(151),u=n(153),h=n(149),m=n(64),d=n.n(m),f=n(152),p=n(154),g=n(146),w=Object(g.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1)}}}}));function v(e){var t=e.update,n=e.cb,a=e.status,o=e.nameError,c=e.placeholderName,i=w();return r.a.createElement(r.a.Fragment,null,a?r.a.createElement("form",{className:i.root,noValidate:!0,autoComplete:"off"},r.a.createElement(u.a,null,r.a.createElement(f.a,{error:o,helperText:o?"Try a different name":null,placeholder:c,required:!0,id:"outlined-required",label:"Name",variant:"outlined",onChange:function(e){return t(e.target.value)}})),r.a.createElement(u.a,null,r.a.createElement(p.a,{onClick:n,variant:"contained",color:"primary"},"Play"))):r.a.createElement(h.a,null,"Server is ",a?null:"not ","running"))}var b=n(68),k=n(71),E=n(70),y=n(45),j=n(46),O=n(69),x=n.n(O),A=function(e){Object(k.a)(n,e);var t=Object(E.a)(n);function n(e,a,r,o){var c;return Object(y.a)(this,n),c=t.call(this,e,a,r,50,o),console.log(c.name,c.pos),c}return Object(j.a)(n,[{key:"draw",value:function(){this.page.fill(this.color);var e=this.page.textWidth(this.name);this.page.clear(),this.page.square(0,0,this.size),this.page.fill(0),this.page.text(this.name,this.size/2-e/2,this.size-5),this.render()}}]),n}(function(){function e(t,n,a,r,o){Object(y.a)(this,e),this.pos=n,this.size=r,this.name=o,this.color=a,this.canvas=t,this.page=t.createGraphics(r,r),this.page.clear(),this.page.noStroke()}return Object(j.a)(e,[{key:"update",value:function(e){var t=e.pos;this.pos=t}},{key:"render",value:function(){this.canvas.image(this.page,this.pos.x,this.pos.y,this.size,this.size)}}]),e}());function S(e){var t=e.socket,n={};function o(e,t){return n.hasOwnProperty(e.name)||function(e,t){n[e.name]=new A(t,{x:t.windowWidth/2,y:t.windowHeight/2},e.color,e.name)}(e,t),n[e.name]}var c=function(e){function n(t){return o(t,e)}t.on("state",(function(t){!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e.background(t)}(0);var a,r=Object(b.a)(t);try{for(r.s();!(a=r.n()).done;){var o=a.value,c=n(o);c.update(o),c.draw()}}catch(i){r.e(i)}finally{r.f()}})),e.setup=function(){document.getElementById("gameContainer");e.createCanvas(e.windowWidth,e.windowHeight),e.background(0),e.noStroke()};(new Date).getTime();setInterval((function(){var e=(new Date).getTime();t.emit("movement",i),e}),1e3/60)},i={up:!1,down:!1,left:!1,right:!1};document.addEventListener("keydown",(function(e){switch(e.key){case"w":case"ArrowUp":i.up=!0;break;case"a":case"ArrowLeft":i.left=!0;break;case"s":case"ArrowDown":i.down=!0;break;case"d":case"ArrowRight":i.right=!0;break;default:console.log("".concat(e.key," is not bound to an action"))}})),document.addEventListener("keyup",(function(e){switch(e.key){case"w":case"ArrowUp":i.up=!1;break;case"a":case"ArrowLeft":i.left=!1;break;case"s":case"ArrowDown":i.down=!1;break;case"d":case"ArrowRight":i.right=!1;break;default:console.log("".concat(e.key," is not bound to an action"))}}));var s=r.a.createRef();return Object(a.useEffect)((function(){new x.a(c,s.current)}),[]),r.a.createElement(u.a,{maxHeight:"800px",height:"100%",width:"100%",id:"gameContainer",ref:s})}var C,T=n(118);var z=function(){var e=r.a.useState(!1),t=Object(i.a)(e,2),n=t[0],o=t[1],c=r.a.useState("Barry"),m=Object(i.a)(c,2),f=m[0],p=m[1],g=r.a.useState(!1),w=Object(i.a)(g,2),b=w[0],k=w[1],E=r.a.useState(!1),y=Object(i.a)(E,2),j=y[0],O=y[1];function x(e){if(e.ok)return o(!0),e;throw e.statusText}return Object(a.useEffect)((function(){T("http://82.45.108.39:3001").then(x).then((function(){return(C=d()("http://82.45.108.39:3001")).on("nameTaken",(function(e){k(!0),console.log("".concat(e," is already taken"))})),C.on("joined",(function(e){console.log("".concat(e," joined")),O(!0)})),function(){return C.disconnect()}}))}),[]),r.a.createElement("div",{className:"App"},r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,null),j?r.a.createElement(S,{socket:C}):r.a.createElement(l.a,null,r.a.createElement(u.a,{display:"flex",flexDirection:"column",height:"100vh"},r.a.createElement(u.a,{borderBottom:1},r.a.createElement(h.a,{variant:"h2",component:"h1"},"Gam")),r.a.createElement(u.a,{display:"flex",justifyContent:"center",alignItems:"center",flexGrow:1},r.a.createElement(v,{status:n,update:function(e){p(e),k(!1)},nameError:b,placeholderName:f,cb:function(){C.emit("name",f)}}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},80:function(e,t,n){e.exports=n(119)},85:function(e,t,n){},86:function(e,t,n){}},[[80,1,2]]]);
//# sourceMappingURL=main.11ed9a3a.chunk.js.map